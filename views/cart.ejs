<%- include("layout", { cartCount: cart.length }) %>

<section class="section active">
  <h1 style="text-align:center; color:#ff4757; margin-bottom:30px;">Your Cart</h1>

  <% if (cart.length === 0) { %>
    <p style="text-align:center;">Your cart is empty.</p>
  <% } else { %>
    <div id="cart-items">
      <% cart.forEach((item, index) => { %>
        <div class="cart-item">
          <span><%= item.name %> - $<%= item.price %></span>
          <form method="POST" action="/cart/remove">
            <input type="hidden" name="index" value="<%= index %>">
            <button type="submit">Remove</button>
          </form>
        </div>
      <% }) %>
    </div>
    <div class="cart-total">Total: $<%= cart.reduce((a,c)=>a+c.price,0).toFixed(2) %></div>
    <form action="/checkout" method="GET">
      <button id="checkout-btn">Proceed to Checkout</button>
    </form>
  <% } %>
</section>
